% Provides file IO functions
(
	(platform v1)
	(var FS (require "fs"))
	(var Path (require "path"))

	(def readFileAsync #Filename,Callback :: (
		(set Filename (invoke Path "resolve" Filename))
		(invoke FS "readFile" Filename (js-bridge Callback))
	))

	(export-global readFileAsync/2)

	(if (== true (get-def 'TEST')) (
		(readFileAsync "livium.lithp" #Err,Data :: (
			(print "Got Err:" Err)
			(print "Got Data:" (to-string Data))
		))
	))
)
